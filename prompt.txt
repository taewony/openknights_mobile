
1) ì•„ë˜ ìœ„ì¹˜ì— fake JSON dataë“¤ì´ ì €ì¥ë˜ì–´ ìˆìŒ
D:\code\mobileApp\openknights_mobile\core\data\src\main\res\raw

2) ViewModel ë° UI ì—°ë™
ViewModelì€ Repositoryë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ë©°, ë°ì´í„°ê°€ Firebaseì—ì„œ ì™”ëŠ”ì§€, Fake JSONì—ì„œ ì™”ëŠ”ì§€ëŠ” ì „í˜€ ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ë‹¤.

3) Repository êµ¬í˜„: ë°ì´í„° ì†ŒìŠ¤ ë¶„ê¸° ì²˜ë¦¬
RepositoryëŠ” ë°ì´í„°ì— ì ‘ê·¼í•˜ëŠ” ë¡œì§ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ Firebaseì— ë¨¼ì € ì ‘ê·¼í•´ë³´ê³ , ë°ì´í„°ê°€ ì—†ìœ¼ë©´ Fake JSONì„ ì½ì–´ì˜¤ë„ë¡ êµ¬í˜„í•©ë‹ˆë‹¤.

ì•„ë˜ëŠ” Project Model ì˜ˆì‹œë¡œ ì„¤ëª…í•œ ì½”ë“œì…ë‹ˆë‹¤.
---

```kotlin
import android.content.Context
import com.google.firebase.firestore.FirebaseFirestore
import com.google.gson.Gson
import com.google.gson.reflect.TypeToken
import kotlinx.coroutines.tasks.await
import android.util.Log
import java.io.IOException

class ProjectRepository(private val context: Context) {

    private val db = FirebaseFirestore.getInstance()

    // ViewModelì´ í˜¸ì¶œí•  ë©”ì¸ í•¨ìˆ˜
    suspend fun getProjects(): List<Project> {
        return try {
            val snapshot = db.collection("projects").get().await()

            // ğŸ’¡ í•µì‹¬ ë¡œì§: Firestoreì—ì„œ ê°€ì ¸ì˜¨ ê²°ê³¼ê°€ ë¹„ì–´ìˆëŠ”ì§€ í™•ì¸
            if (snapshot.isEmpty) {
                // ê²°ê³¼ê°€ ë¹„ì–´ìˆìœ¼ë©´, ë¡œì»¬ JSONì—ì„œ ê°€ì§œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
                getFakeProjectsFromJson()
            } else {
                // ê²°ê³¼ê°€ ìˆìœ¼ë©´, Firestore ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ì—¬ ë°˜í™˜í•œë‹¤.
                snapshot.toObjects(Project::class.java)
            }
        } catch (e: Exception) {
            // Firestore ì ‘ê·¼ ì¤‘ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ë“±ì´ ë°œìƒí•œ ê²½ìš°ì—ë„
            // ê°€ì§œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ì—¬ ì•±ì´ ë¹„ì–´ ë³´ì´ì§€ ì•Šê²Œ í•œë‹¤.
            Log.e("ProjectRepository", "Error fetching from Firestore, falling back to fake data.", e)
            getFakeProjectsFromJson()
        }
    }

    // Assets í´ë”ì˜ JSON íŒŒì¼ì„ ì½ì–´ì™€ Project ê°ì²´ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
    private fun getFakeProjectsFromJson(): List<Project> {
        val jsonString: String
        try {
            jsonString = context.assets.open("fake_projects.json")
                .bufferedReader()
                .use { it.readText() }
        } catch (ioException: IOException) {
            ioException.printStackTrace()
            return emptyList() // JSON íŒŒì¼ ì½ê¸° ì‹¤íŒ¨ ì‹œ ë¹ˆ ë¦¬ìŠ¤íŠ¸ ë°˜í™˜
        }

        val listProjectType = object : TypeToken<List<Project>>() {}.type
        return Gson().fromJson(jsonString, listProjectType)
    }
}
```

---

### ì„¤ëª… ìš”ì•½

* `getProjects()`ëŠ” Firestore `projects` ì»¬ë ‰ì…˜ì—ì„œ ë°ì´í„°ë¥¼ ë¹„ë™ê¸°ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.
* Firestoreì—ì„œ ë°ì´í„°ê°€ ì—†ê±°ë‚˜ ì˜¤ë¥˜ê°€ ë‚˜ë©´, assets í´ë”ì— ìˆëŠ” `fake_projects.json`ì„ ì½ì–´ì™€ ê°€ì§œ ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
* `getFakeProjectsFromJson()`ì€ JSON íŒŒì¼ì„ ì½ì–´ì„œ `List<Project>` ê°ì²´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
* ì´ë ‡ê²Œ êµ¬í˜„í•˜ë©´ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œë‚˜ Firestore ë¯¸ì„¤ì • ìƒí™©ì—ì„œë„ ì•±ì´ ë¹ˆ í™”ë©´ì´ ë˜ì§€ ì•Šê³ , ì•ˆì •ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

